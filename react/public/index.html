<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/images/logo.png">
    <meta name="Description" content="Student at CentraleSupelec | Web and Mobile developer | Data Scientist">
    <meta name="keywords" content="data science, deep learning, learning, centrale, centralesupelec, machine learning, IA, david, elmalih, el malih, elmaleh, web, mobile, developer, react, react native, JS, javascript, python, keras, tensorflow, scikit, scikit learn, Java, student, resume">
    <meta name="Author" content="David El Malih">
    <meta name="Copyright" content="David El Malih Â© Copyright 2019" />
    <meta name="Identifier-URL" content="http://delmalih.github.io">
    <meta name="Location" content="PARIS, FRANCE">
    <title>David El Malih</title>
    <style>
      html {
        background-attachment: scroll !important;
      }
      html, body, #root {
        background-color: #E0E1E1;
      }
      @media screen and (max-width: 1439px) {
          #Sidebar {
              display: none !important;
          }
      }
    </style>
  </head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <div id="root"></div>
    <script type="text/javascript" src="//code.jquery.com/jquery-git.js"></script>
    <script type='text/javascript'>
      $(function() {
        // Navbar hiding
        $('#Navbar').hide();

        // general consts
        var bodyHeight = $('body').height();
        var windowHeight = $(window).height();
        var sidebarTop = $('#Sidebar').offset().top;
        
        var homeBottom = $('#Home').offset().top + $('#Home').height();
        var workingExpBottom = $('#WorkingExp').offset().top + $('#WorkingExp').height();
        var skillsBottom = $('#Skills').offset().top + $('#Skills').height();
        var educationBottom = $('#Education').offset().top + $('#Education').height();
        var achievementsBottom = $('#Achievements').offset().top + $('#Achievements').height();
        
        var currentSection = 'Home';
        var newCurrenSection = currentSection;

        // Home badge
        var homeTop = $('#Home').offset().top;
        var badgeHomeTop = homeTop / bodyHeight * (0.9 * windowHeight) + sidebarTop;
        $('#SidebarBadgeHome').css({top: badgeHomeTop});

        // WorkingExp badge
        var workingExpTop = $('#WorkingExp').offset().top;
        var badgeWorkingExpTop = workingExpTop / bodyHeight * (0.9 * windowHeight) + sidebarTop;
        $('#SidebarBadgeWorkingExp').css({top: badgeWorkingExpTop});

        // Skills badge
        var skillsTop = $('#Skills').offset().top;
        var badgeSkillsTop = skillsTop / bodyHeight * (0.9 * windowHeight) + sidebarTop;
        $('#SidebarBadgeSkills').css({top: badgeSkillsTop});

        // Education badge
        var educationTop = $('#Education').offset().top;
        var badgeEducationTop = educationTop / bodyHeight * (0.9 * windowHeight) + sidebarTop;
        $('#SidebarBadgeEducation').css({top: badgeEducationTop});

        // Achievements badge
        var achievementsTop = $('#Achievements').offset().top;
        var badgeAchievementsTop = achievementsTop / bodyHeight * (0.9 * windowHeight) + sidebarTop;
        $('#SidebarBadgeAchievements').css({top: badgeAchievementsTop});

        // Functions
        function setActiveSection(newCurrenSection, oldCurrentSection) {
          var activeCss = { fontSize: '14px' }
          var defaultCSS = { fontSize: '10px' };
          $('#SidebarBadge' + newCurrenSection).animate(activeCss, 500);
          $('#SidebarBadge' + newCurrenSection).css('background', '#17a2b8');
          if (oldCurrentSection !== '') {
            $('#SidebarBadge' + oldCurrentSection).animate(defaultCSS, 500);
            $('#SidebarBadge' + oldCurrentSection).css('background', '#222');
          }
        }
        setActiveSection('Home', '');

        $(window).scroll(() => {
          // Navbar
          if ( $(window).scrollTop() < $("#Home").height() - $('#Navbar').height() - 10) {
            $('#Navbar').hide();
          } else {
            $('#Navbar').show();
          }

          // Sidebar
          var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
          var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
          var scrolled = (winScroll / height) * 100;
          $('#SidebarProgress').css('height', scrolled + "%");

          if ($(window).scrollTop() <= homeBottom - 65) {
            newCurrenSection = 'Home';
          } else if ($(window).scrollTop() > homeBottom - 65 && $(window).scrollTop() <= workingExpBottom - 65) {
            newCurrenSection = 'WorkingExp';
          } else if ($(window).scrollTop() > workingExpBottom - 65 && $(window).scrollTop() <= skillsBottom - 65) {
            newCurrenSection = 'Skills';
          } else if ($(window).scrollTop() > skillsBottom - 65 && $(window).scrollTop() <= educationBottom - 65) {
            newCurrenSection = 'Education';
          } else if ($(window).scrollTop() > educationBottom - 65) {
            newCurrenSection = 'Achievements';
          } else {
            newCurrenSection = '';
          }

          if (newCurrenSection !== currentSection) {
            setActiveSection(newCurrenSection, currentSection);
            currentSection = newCurrenSection;
          }
        });

      });
    </script>
  </body>
</html>
